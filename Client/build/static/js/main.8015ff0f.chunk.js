(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,i){},25:function(e,t,i){},48:function(e,t,i){"use strict";i.r(t);var n=i(2),a=i.n(n),s=i(17),r=i.n(s),c=(i(24),i(19)),l=(i(25),i(4)),o=i.n(l),d=i(8),u=i(5),p=i.n(u),b=i(3),m=i(0),h=function(e){var t=e.handleChange,i=e.subscriber,n=e.setSubscriber,a=Object(b.useStripe)(),s=Object(b.useElements)(),r=function(){var e=Object(d.a)(o.a.mark((function e(t){var n,r,l,d,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a&&s){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,a.createPaymentMethod({type:"card",card:s.getElement(b.CardElement),billing_details:i.user.billing_details});case 5:if(!(n=e.sent).error){e.next=10;break}console.log("[Payment Method Error]",n.error.message),e.next=18;break;case 10:return c(),e.next=13,p.a.post("http://localhost:8082/api/sub",{payment_method:n.paymentMethod.id,email:i.user.billing_details.email,item:i.subscription.stripe_product});case 13:r=e.sent,console.log("[RES:]",r),l=r.data,d=l.client_secret,u=l.status,console.log("[STATUS]",u),"requires_action"===u?a.confirmCardPayment(d).then((function(e){e.error?console.log("[Payment Completion Error]",e.error.decline_code):console.log("User Subscription Successful")})):console.log("User Subscription Successful");case 18:t.target.reset();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){p.a.post("http://localhost:8082/api/subscriptions/",i).then((function(e){n({user:{facebook_id:"",billing_details:{name:"",email:"",address:{city:"",line1:"",state:"",postal_code:""}}},subscription:{stripe_product:"",gift_aid:!1}})})).catch((function(e){console.log("[Error in posting subscriber]",e)}))};return Object(m.jsx)("div",{className:"subscription-container",children:Object(m.jsxs)("form",{className:"subscription-form",onSubmit:r,children:[Object(m.jsxs)("ul",{className:"subscriber-details",children:[Object(m.jsx)("li",{children:Object(m.jsx)("input",{type:"text",placeholder:"fb id",name:"facebook_id",onChange:t})}),Object(m.jsx)("li",{children:Object(m.jsx)("input",{type:"text",placeholder:"Full Name",name:"name",onChange:t})}),Object(m.jsx)("li",{children:Object(m.jsx)("input",{type:"text",placeholder:"Email",name:"email",onChange:t})}),Object(m.jsx)("li",{children:Object(m.jsx)("input",{type:"text",placeholder:"City",name:"city",onChange:t})}),Object(m.jsx)("li",{children:Object(m.jsx)("input",{type:"text",placeholder:"Address",name:"line1",onChange:t})}),Object(m.jsx)("li",{children:Object(m.jsx)("input",{type:"text",placeholder:"State/County",name:"state",onChange:t})}),Object(m.jsx)("li",{children:Object(m.jsx)("input",{type:"text",placeholder:"Postal Code",name:"postal_code",onChange:t})})]}),Object(m.jsx)(b.CardElement,{options:{style:{base:{fontSize:"16px",color:"dodgerblue","::placeholder":{color:"white"}},invalid:{color:"#9e2146"}},hidePostalCode:!0}}),Object(m.jsx)("button",{type:"submit",disabled:!a,children:"Pay"})]})})},j=i(18),g="https://images.squarespace-cdn.com/content/v1/609d9011d5730510f8ba7ec8/6b372311-157f-4a96-abe6-9d81398e79c6/SocialMind_Logo_Transparent_Small.png?format=1500w",x={stripe_product:"price_1JT1tPH9H3bUbp4vTswRMwvx",price:25,increment:"weekly"},f={stripe_product:"price_1JRcW1H9H3bUbp4vZFHNqKd0",price:50,increment:"monthly"},O={stripe_product:"price_1JT2RzH9H3bUbp4v54HahZ53",price:100,increment:"monthly"},y="I want to Gift Aid my donation and any donations I make in the future or have made in the past 4 years, to [CHARITY NAME HERE]. I am a UK taxpayer and understand that if I pay less Income Tax and/or Capital Gains Tax than the amount of Gift Aid claimed on all of my donations in that tax year it is my responsibility to pay any difference. [CHARITY NAME HERE] will claim 25p on every \xa31 donated.",_=function(e){var t=e.handleChange;return Object(m.jsx)("div",{className:"tier-selection-container",children:Object(m.jsxs)("ul",{className:"tier-list",children:[Object(m.jsx)("li",{className:"tier-item",children:Object(m.jsxs)("button",{name:"stripe_product",value:x.stripe_product,onClick:t,children:["\xa3",x.price+"/"+x.increment]})}),Object(m.jsx)("li",{className:"tier-item",children:Object(m.jsxs)("button",{value:f.stripe_product,name:"stripe_product",onClick:t,children:["\xa3",f.price+"/"+f.increment]})}),Object(m.jsx)("li",{className:"tier-item",children:Object(m.jsxs)("button",{value:O.stripe_product,name:"stripe_product",onClick:t,children:["\xa3",O.price+"/"+O.increment]})})]})})},v=function(e){var t=e.handleOptIn,i=e.donation;return Object(m.jsxs)("div",{className:"gift-aid-container",children:[i,Object(m.jsx)("label",{for:"gift_aid",children:"Yes, I would like [INSERT CHARITY NAME] to claim Gift Aid on my donation"}),Object(m.jsx)("input",{type:"checkbox",name:"gift_aid",onChange:t}),Object(m.jsx)("p",{className:"gift-aid-decalration",children:y})]})};i(45).config();var C=Object(j.a)("pk_test_51JRZiRH9H3bUbp4v4rMxaEvcZTBtYY6VJECNDlJHErMviJO4Ooacgs4mr4SviOyWfcGTEn8ltTQVkUQSnaO0Iv0800x4iZH86h");var E=function(){var e=Object(n.useState)({user:{facebook_id:"",billing_details:{name:"",email:"",address:{city:"",line1:"",state:"",postal_code:""}}},subscription:{stripe_product:"",gift_aid:!1}}),t=Object(c.a)(e,2),i=t[0],a=t[1],s=function(e){var t=i;"on"===e.target.value?t.subscription.gift_aid=!t.subscription.gift_aid:t.subscription.hasOwnProperty(e.target.name)?t.subscription[e.target.name]=e.target.value:t.user.billing_details.hasOwnProperty(e.target.name)?t.user.billing_details[e.target.name]=e.target.value:t.user.billing_details.address.hasOwnProperty(e.target.name)?t.user.billing_details.address[e.target.name]=e.target.value:t.user[e.target.name]=e.target.value,a(t),console.log(i)};return Object(m.jsx)(b.Elements,{stripe:C,children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("img",{src:g,alt:"company logo here",width:"100px",height:"80ppx"}),Object(m.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec eleifend diam eu eleifend dapibus. Donec sodales lacus non enim aliquet convallis. Aliquam tristique eleifend sagittis. Morbi sed mattis erat, sed mollis lectus. Nulla vel ullamcorper metus. Praesent ac lectus sed dui gravida accumsan. Donec sollicitudin quam vitae facilisis elementum. Morbi ac augue quis nisi tincidunt sollicitudin."}),Object(m.jsx)(_,{handleChange:s}),Object(m.jsx)(h,{handleChange:s,subscriber:i,setSubscriber:a}),Object(m.jsx)(v,{amount:0,handleOptIn:s})]})})},S=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,49)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;i(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),S()}},[[48,1,2]]]);
//# sourceMappingURL=main.8015ff0f.chunk.js.map